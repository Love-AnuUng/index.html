<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>For Anu... Always â™¥</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #2c003e, #6a0572, #d16ba5);
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
            cursor: default;
        }
        canvas {
            position: fixed;
            top:0; left:0;
            width:100%; height:100%;
            pointer-events: none;
        }
        #heartCanvas { pointer-events: all; z-index: 2; }
        #particleCanvas { z-index: 1; }
        .content {
            position: relative;
            z-index: 10;
            padding: 40px 20px;
            text-align: center;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        h1 {
            font-size: 5rem;
            margin-bottom: 20px;
            text-shadow: 0 0 30px #ff69b4;
            opacity: 0;
        }
        .message {
            font-size: 1.8rem;
            max-width: 800px;
            line-height: 1.6;
            margin: 30px 0;
            opacity: 0;
        }
        .reasons {
            margin: 60px 0;
            width: 100%;
            max-width: 900px;
        }
        .reason {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 16px;
            padding: 25px;
            margin: 20px auto;
            max-width: 700px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.4s ease;
        }
        .reason:hover { transform: scale(1.03); box-shadow: 0 0 30px rgba(255,105,180,0.4); }
        .btn {
            padding: 18px 60px;
            font-size: 1.5rem;
            background: linear-gradient(45deg, #ff6b9d, #c06c84);
            border: none;
            border-radius: 50px;
            color: white;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255,107,157,0.5);
            margin-top: 40px;
            opacity: 0;
        }
        .btn:hover { transform: scale(1.08); box-shadow: 0 15px 50px rgba(255,107,157,0.7); }
        .music-toggle {
            position: fixed;
            bottom: 20px; right: 20px;
            width: 60px; height: 60px;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            border: 2px solid rgba(255,255,255,0.3);
        }
        .music-toggle:hover { transform: scale(1.1); }
        #threeContainer {
            width: 320px; height: 320px;
            margin: 40px auto;
        }
        @media (max-width: 768px) {
            h1 { font-size: 3.5rem; }
            .message { font-size: 1.4rem; }
            .reason { padding: 18px; }
        }
    </style>
</head>
<body>
    <canvas id="particleCanvas"></canvas>
    <canvas id="heartCanvas"></canvas>
    <div id="threeContainer"></div>

    <div class="content">
        <h1>Dear Anu...</h1>
        <p class="message" id="typedMessage"></p>

        <div id="threeContainer"></div>

        <div class="reasons" id="reasonsList"></div>

        <button class="btn" id="heartBtn">I feel it too â™¥</button>
    </div>

    <div class="music-toggle" id="musicToggle">
        <span style="font-size: 28px;">ðŸŽµ</span>
    </div>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

    <script>
        // === Particles Background ===
        const pCanvas = document.getElementById('particleCanvas');
        const pCtx = pCanvas.getContext('2d');
        pCanvas.width = window.innerWidth;
        pCanvas.height = window.innerHeight;

        let particles = [];
        class Particle {
            constructor() {
                this.x = Math.random() * pCanvas.width;
                this.y = Math.random() * pCanvas.height;
                this.size = Math.random() * 2.5 + 0.5;
                this.speedX = Math.random() * 0.6 - 0.3;
                this.speedY = Math.random() * 0.6 - 0.3;
                this.color = `hsla(${Math.random()*60 + 280}, 80%, 70%, ${Math.random()*0.4 + 0.3})`;
            }
            update() { this.x += this.speedX; this.y += this.speedY; if (this.x < 0 || this.x > pCanvas.width) this.speedX *= -1; if (this.y < 0 || this.y > pCanvas.height) this.speedY *= -1; }
            draw() { pCtx.fillStyle = this.color; pCtx.beginPath(); pCtx.arc(this.x, this.y, this.size, 0, Math.PI*2); pCtx.fill(); }
        }
        for(let i=0; i<80; i++) particles.push(new Particle());

        function animateParticles() {
            pCtx.fillStyle = 'rgba(0,0,0,0.05)';
            pCtx.fillRect(0,0,pCanvas.width,pCanvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateParticles);
        }
        animateParticles();

        // === Heart Rain + Click Explode ===
        const hCanvas = document.getElementById('heartCanvas');
        const hCtx = hCanvas.getContext('2d');
        hCanvas.width = window.innerWidth;
        hCanvas.height = window.innerHeight;

        let hearts = [];
        class HeartShape {
            constructor() {
                this.x = Math.random() * hCanvas.width;
                this.y = -50;
                this.size = Math.random() * 25 + 15;
                this.speed = Math.random() * 2.5 + 1.5;
                this.opacity = Math.random() * 0.4 + 0.6;
                this.rotation = Math.random() * 360;
                this.rotSpeed = Math.random() * 2 - 1;
            }
            update() {
                this.y += this.speed;
                this.rotation += this.rotSpeed;
            }
            draw() {
                hCtx.save();
                hCtx.globalAlpha = this.opacity;
                hCtx.translate(this.x, this.y);
                hCtx.rotate(this.rotation * Math.PI / 180);
                hCtx.fillStyle = '#ff69b4';
                hCtx.beginPath();
                hCtx.moveTo(0, -this.size/2);
                hCtx.bezierCurveTo(-this.size*0.8, -this.size*1.2, -this.size*1.5, -this.size*0.3, 0, this.size*0.8);
                hCtx.bezierCurveTo(this.size*1.5, -this.size*0.3, this.size*0.8, -this.size*1.2, 0, -this.size/2);
                hCtx.fill();
                hCtx.restore();
            }
        }

        setInterval(() => hearts.push(new HeartShape()), 400);

        hCanvas.addEventListener('click', e => {
            const rect = hCanvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            for(let i=hearts.length-1; i>=0; i--){
                let h = hearts[i];
                let dx = x - h.x, dy = y - h.y;
                if(Math.sqrt(dx*dx + dy*dy) < h.size*1.5){
                    // Simple explode effect (could add fireworks later)
                    hearts.splice(i,1);
                    for(let k=0;k<15;k++) particles.push(new Particle()); // sparkle burst
                }
            }
        });

        function animateHearts() {
            hCtx.clearRect(0,0,hCanvas.width,hCanvas.height);
            hearts = hearts.filter(h => {
                h.update();
                h.draw();
                return h.y < hCanvas.height + 100;
            });
            requestAnimationFrame(animateHearts);
        }
        animateHearts();

        // === 3D Pulsing Heart ===
        const container = document.getElementById('threeContainer');
        const scene = new THREE.Scene();
        scene.background = null;
        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({alpha:true, antialias:true});
        renderer.setSize(container.clientWidth, container.clientHeight);
        container.appendChild(renderer.domElement);

        const heartShape = new THREE.Shape();
        heartShape.moveTo(0,0);
        heartShape.bezierCurveTo(0,-0.4,-0.8,-0.4,-0.8,0);
        heartShape.bezierCurveTo(-0.8,0.4,0,0.8,0,1.2);
        heartShape.bezierCurveTo(0,0.8,0.8,0.4,0.8,0);
        heartShape.bezierCurveTo(0.8,-0.4,0,-0.4,0,0);

        const extrude = { depth:0.4, bevelEnabled:true, bevelThickness:0.15, bevelSize:0.1, bevelSegments:5 };
        const geo = new THREE.ExtrudeGeometry(heartShape, extrude);
        const mat = new THREE.MeshPhongMaterial({color:0xff69b4, emissive:0xff1493, shininess:120});
        const heart3D = new THREE.Mesh(geo, mat);
        heart3D.scale.set(2,2,2);
        scene.add(heart3D);

        const light = new THREE.PointLight(0xffffff, 1.5, 100);
        light.position.set(5,5,10);
        scene.add(light);
        scene.add(new THREE.AmbientLight(0x404040, 1.2));

        camera.position.z = 6;

        function animate3D() {
            requestAnimationFrame(animate3D);
            heart3D.rotation.y += 0.008;
            heart3D.rotation.x = Math.sin(Date.now()*0.001) * 0.15;
            renderer.render(scene, camera);
        }
        animate3D();

        // Resize handler
        window.addEventListener('resize', () => {
            pCanvas.width = window.innerWidth; pCanvas.height = window.innerHeight;
            hCanvas.width = window.innerWidth; hCanvas.height = window.innerHeight;
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });

        // === GSAP Animations & Typing ===
        gsap.registerPlugin(ScrollTrigger);

        // Typing effect
        const fullMsg = "From the moment I saw your smile, my world changed. You're my favorite reason to smile, my safe place, my everything. This is for you... because you deserve to know how deeply you're loved.";
        let typed = "";
        const msgEl = document.getElementById('typedMessage');
        function typeWriter(i = 0) {
            if (i < fullMsg.length) {
                typed += fullMsg.charAt(i);
                msgEl.textContent = typed;
                setTimeout(() => typeWriter(i+1), 40 + Math.random()*30);
            }
        }

        // Intro timeline
        const tl = gsap.timeline({defaults:{ease:'power3.out'}});
        tl.to('h1', {opacity:1, y:0, duration:1.2, delay:0.8})
          .call(typeWriter, null, '-=0.5')
          .to('.message', {opacity:1, duration:1.5}, '-=1')
          .to('.btn', {opacity:1, scale:1, duration:1}, '-=1');

        // Reasons fade-in on scroll
        const reasonsList = document.getElementById('reasonsList');
        const yourReasons = [
            "Your laugh is my favorite sound in the universe",
            "You make every boring day feel magical",
            "The way you care about people melts me",
            "Your eyes light up when you're excited â€” I live for that",
            "You believe in me even when I doubt myself",
            "Every random message from you makes my heart skip",
            "You're beautiful inside and out, no competition",
            "You turn ordinary moments into memories I'll never forget",
            "Your kindness is contagious and I want to be more like you",
            "Simply because you're Anu... that's more than enough â™¥"
            // Add as many as you want here!
        ];

        yourReasons.forEach((text, i) => {
            const div = document.createElement('div');
            div.className = 'reason';
            div.innerHTML = `<p>${text}</p>`;
            reasonsList.appendChild(div);

            gsap.to(div, {
                scrollTrigger: { trigger: div, start: 'top 85%' },
                opacity: 1,
                y: 0,
                duration: 1,
                delay: i * 0.1
            });
        });

        // Button click â†’ sweet ending
        document.getElementById('heartBtn').addEventListener('click', () => {
            gsap.to('.content > *', {opacity:0, y: -50, duration:1.2, stagger:0.1, ease:'back.in'});
            setTimeout(() => {
                document.querySelector('h1').textContent = "I love you, Anu.";
                document.querySelector('h1').style.fontSize = '4.5rem';
                gsap.to('h1', {opacity:1, scale:1.1, duration:1.5, yoyo:true, repeat:-1});
            }, 1400);
        });

        // Music (real track)
        const audio = new Audio('lofi-romantic.mp3'); // â† rename your downloaded file to this!
        audio.loop = true;
        audio.volume = 0.25;
        let playing = false;

        document.getElementById('musicToggle').addEventListener('click', () => {
            if (playing) {
                audio.pause();
                document.querySelector('.music-toggle span').textContent = 'ðŸ”‡';
            } else {
                audio.play().catch(() => console.log("Click again if blocked â€” browser rule"));
                document.querySelector('.music-toggle span').textContent = 'ðŸŽµ';
            }
            playing = !playing;
        });
    </script>
</body>
</html>
